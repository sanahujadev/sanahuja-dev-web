---
// src/components/pages/LandingGracias.astro
import BaseLayout from "../../layouts/BaseLayout.astro";
import Button from "../../components/ui/Button.astro";
import Badge from "../../components/ui/Badge.astro";
import Check from "../../components/ui/icons/Check.astro";
import ChevronRight from "../../components/ui/icons/ChevronRight.astro";

import type { GraciasCopy } from "../../i18n/utils";

interface Props {
  copy: GraciasCopy;
  alternateUrl: string;
  schema: Record<string, any>;
}

const { copy, alternateUrl, schema } = Astro.props;
const { copy: t, lang, metadata } = copy;
---

<BaseLayout lang={lang as "es" | "en"} alternateUrl={alternateUrl}>
  <script is:inline type="application/ld+json" set:html={JSON.stringify(schema)} slot="json-ld" />
  <Fragment slot="head">
    <title>{metadata.title}</title>
    <meta name="description" content={metadata.description} />
    <meta name="robots" content={metadata.robots} />
  </Fragment>
<main>
  {/* Hero with Success Check */}
  <section id="hero">
    {/* Badge */}
    <div>
      <div />
      <span>{t.hero.badge}</span>
    </div>

    {/* Animated Success Check */}
    <div>
      <div>
        <div>
          <Check />
        </div>
        <div />
      </div>
    </div>

    {/* Title */}
    <h1>
      {t.hero.title}
    </h1>

    {/* Reference ID */}
    <p>
      {t.hero.subtitle} <span>#LEAD_ID</span>
    </p>

    {/* Message */}
    <div>
      <p set:html={t.hero.message} />
    </div>

    {/* Status */}
    <div>
      <div />
      <span>{t.hero.heroVisual.statusText}</span>
    </div>
  </section>

  {/* Timeline Section */}
  <section id="timeline">
    <h2>{t.sections.timeline.title}</h2>
    <div>
      {t.sections.timeline.steps.map((step) => (
        <article>
          <div>
            <div>
              <span>{step.step}</span>
            </div>
            <div />
          </div>
          <div>
            <h3>{step.title}</h3>
            <p>{step.description}</p>
          </div>
        </article>
      ))}
    </div>
  </section>

  {/* Loop Section - Profile Card */}
  <section id="loop">
    <div>
      <h2>{t.sections.loop.title}</h2>
      <p>{t.sections.loop.content}</p>
    </div>

    <div>
      <div>
        <div>
          <span>JJS</span>
        </div>
        <div>
          <h3>{t.sections.loop.card.title}</h3>
          <p>{t.sections.loop.card.role}</p>
          <p>{t.sections.loop.card.text}</p>
        </div>
      </div>

      <Button href={t.sections.loop.card.url} target="_self">
        <span>{t.sections.loop.card.cta}</span>
        <ChevronRight />
      </Button>
    </div>
  </section>

  {/* Legal Notice */}
  <section id="legal">
    <p>
      {t.sections.legal.text}{" "}
      {t.sections.legal.links.map((link) => (
        <a href={link.url}>
          {link.text}
        </a>
      ))}
      .
    </p>
  </section>
</main>
</BaseLayout>